{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/profsteve/Documents/prisma-supabase-redis/components/cache-metrics.tsx"],"sourcesContent":["// components/cache-metrics.tsx\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\n\ntype Metrics = {\n  hits: number;\n  misses: number;\n  hitRate: number;\n  redisEnabled: boolean;\n  error?: string;\n};\n\nexport function CacheMetrics() {\n  const [metrics, setMetrics] = useState<Metrics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [clearing, setClearing] = useState(false);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    async function fetchMetrics() {\n      try {\n        const res = await fetch(\"/api/metrics\");\n        if (!res.ok) return;\n        const data = (await res.json()) as Metrics;\n        if (!cancelled) {\n          setMetrics(data);\n          setLoading(false);\n        }\n      } catch (_) {\n        // ignore\n      }\n    }\n\n    fetchMetrics();\n    const id = setInterval(fetchMetrics, 2000); // Update every 2 seconds for real-time feel\n\n    return () => {\n      cancelled = true;\n      clearInterval(id);\n    };\n  }, []);\n\n  async function handleClearCache() {\n    setClearing(true);\n    try {\n      const res = await fetch(\"/api/cache/clear\", { method: \"POST\" });\n      if (res.ok) {\n        toast.success(\"Cache Cleared!\", {\n          description: \"All cached data and metrics have been cleared\",\n          duration: 3000,\n        });\n        // Refresh metrics after clearing\n        const metricsRes = await fetch(\"/api/metrics\");\n        if (metricsRes.ok) {\n          const data = (await metricsRes.json()) as Metrics;\n          setMetrics(data);\n        }\n      } else {\n        toast.error(\"Failed to Clear Cache\", {\n          description: \"Could not clear the cache\",\n          duration: 2000,\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed to clear cache:\", error);\n      toast.error(\"Error\", {\n        description: \"Failed to clear cache\",\n        duration: 2000,\n      });\n    } finally {\n      setClearing(false);\n    }\n  }\n\n  async function handleCheckCache() {\n    try {\n      const res = await fetch(\"/api/cache/check\");\n      const data = await res.json();\n      console.log(\"üì¶ Current Cache Contents:\", data);\n      console.table(data.cache || {});\n      \n      const keysFound = data.keysFound || 0;\n      toast.info(\"Cache Check\", {\n        description: `Found ${keysFound} cached item${keysFound !== 1 ? 's' : ''}. Check console for details.`,\n        duration: 3000,\n      });\n    } catch (error) {\n      console.error(\"Failed to check cache:\", error);\n      toast.error(\"Error\", {\n        description: \"Failed to check cache\",\n        duration: 2000,\n      });\n    }\n  }\n\n  if (loading || !metrics) {\n    return (\n      <div className=\"mb-4 flex items-center justify-between rounded-xl border border-slate-500/40 bg-slate-950/70 px-4 py-2 text-xs text-slate-400\">\n        <span className=\"font-semibold\">Cache Metrics</span>\n        <span className=\"text-[10px]\">Loading...</span>\n      </div>\n    );\n  }\n\n  const { hits, misses, hitRate, redisEnabled, error } = metrics;\n  const total = hits + misses;\n  const hitRatePercent = (hitRate * 100).toFixed(1);\n\n  // Color coding for hit rate\n  const hitRateColor =\n    hitRate >= 0.7\n      ? \"text-emerald-300\"\n      : hitRate >= 0.4\n      ? \"text-yellow-300\"\n      : \"text-orange-300\";\n  const borderColor = redisEnabled\n    ? \"border-emerald-400/40 shadow-[0_0_22px_rgba(16,185,129,0.3)]\"\n    : \"border-slate-500/40\";\n\n  return (\n    <div\n      className={`mb-4 flex flex-col gap-2 rounded-xl border ${borderColor} bg-slate-950/70 px-4 py-3 text-xs text-slate-200`}\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex flex-col gap-1\">\n          <span className=\"font-semibold text-emerald-300\">Cache Metrics</span>\n          <div className=\"flex items-center gap-2 text-[10px]\">\n            <span\n              className={`flex items-center gap-1 ${\n                redisEnabled ? \"text-emerald-400\" : \"text-slate-500\"\n              }`}\n            >\n              <span\n                className={`h-1.5 w-1.5 rounded-full ${\n                  redisEnabled ? \"bg-emerald-400 animate-pulse\" : \"bg-slate-500\"\n                }`}\n              ></span>\n              Redis: {redisEnabled ? \"Connected\" : \"Disabled\"}\n            </span>\n            {error && <span className=\"text-orange-400\">‚ö† {error}</span>}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3 text-[11px]\">\n          <div className=\"flex flex-col items-end\">\n            <span className=\"text-slate-400 text-[10px]\">Hits</span>\n            <span className=\"font-semibold text-emerald-300\">\n              {hits.toLocaleString()}\n            </span>\n          </div>\n          <div className=\"flex flex-col items-end\">\n            <span className=\"text-slate-400 text-[10px]\">Misses</span>\n            <span className=\"font-semibold text-orange-300\">\n              {misses.toLocaleString()}\n            </span>\n          </div>\n          <div className=\"flex flex-col items-end\">\n            <span className=\"text-slate-400 text-[10px]\">Hit Rate</span>\n            <span className={`font-semibold ${hitRateColor}`}>\n              {hitRatePercent}%\n            </span>\n          </div>\n          <div className=\"flex flex-col items-end\">\n            <span className=\"text-slate-400 text-[10px]\">Total</span>\n            <span className=\"rounded-full bg-emerald-500/20 px-2 py-0.5 text-[10px] font-semibold text-emerald-200\">\n              {total.toLocaleString()}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Visual hit rate bar */}\n      {total > 0 && (\n        <div className=\"h-1 w-full overflow-hidden rounded-full bg-slate-800/50\">\n          <div\n            className=\"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 transition-all duration-500\"\n            style={{ width: `${hitRate * 100}%` }}\n          />\n        </div>\n      )}\n\n      {/* Action buttons */}\n      <div className=\"flex gap-2 pt-1\">\n        <button\n          onClick={handleClearCache}\n          disabled={clearing || !redisEnabled}\n          className=\"rounded-md bg-red-500/20 px-3 py-1.5 text-[10px] font-medium text-red-300 transition-colors hover:bg-red-500/30 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {clearing ? \"Clearing...\" : \"Clear Cache\"}\n        </button>\n        <button\n          onClick={handleCheckCache}\n          disabled={!redisEnabled}\n          className=\"rounded-md bg-blue-500/20 px-3 py-1.5 text-[10px] font-medium text-blue-300 transition-colors hover:bg-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Check Cache\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///Users/profsteve/Documents/prisma-supabase-redis/app/pokemon/%5Bid%5D/page.tsx"],"sourcesContent":["// app/pokemon/[id]/page.tsx\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { CacheMetrics } from \"@/components/cache-metrics\";\nimport { toast } from \"sonner\";\n\ntype PokemonDetail = {\n  id: number;\n  name: string;\n  spriteUrl: string;\n  typePrimary: string;\n  typeSecondary?: string | null;\n  hp: number;\n  attack: number;\n  defense: number;\n  specialAttack: number;\n  specialDefense: number;\n  speed: number;\n};\n\ntype Move = {\n  id: number;\n  name: string;\n  type: string;\n  category: string;\n  power: number | null;\n  accuracy: number | null;\n  pp: number;\n  description: string;\n  level: number | null;\n};\n\ntype MovesResponse = {\n  moves: Move[];\n  source: \"cache\" | \"db\";\n};\n\ntype ApiResponse = {\n  pokemon: PokemonDetail;\n  source: \"cache\" | \"db\";\n};\n\n// Type color gradients for move cards\nconst moveTypeColors: Record<string, string> = {\n  fire: \"from-amber-500/20 to-red-500/20\",\n  water: \"from-sky-500/20 to-cyan-400/20\",\n  grass: \"from-emerald-500/20 to-lime-400/20\",\n  electric: \"from-yellow-400/20 to-amber-300/20\",\n  psychic: \"from-fuchsia-400/20 to-purple-500/20\",\n  dark: \"from-slate-800/20 to-slate-900/20\",\n  ghost: \"from-indigo-500/20 to-violet-500/20\",\n  ice: \"from-cyan-200/20 to-sky-300/20\",\n  dragon: \"from-indigo-600/20 to-emerald-500/20\",\n  fairy: \"from-pink-400/20 to-rose-400/20\",\n  fighting: \"from-orange-600/20 to-red-600/20\",\n  normal: \"from-slate-400/20 to-slate-500/20\",\n  poison: \"from-purple-600/20 to-fuchsia-600/20\",\n  flying: \"from-sky-400/20 to-indigo-400/20\",\n  rock: \"from-amber-700/20 to-stone-700/20\",\n  steel: \"from-slate-500/20 to-zinc-500/20\",\n  bug: \"from-lime-500/20 to-green-500/20\",\n  ground: \"from-amber-600/20 to-yellow-700/20\",\n  default: \"from-slate-800/20 to-slate-900/20\",\n};\n\nfunction getMoveTypeGradient(type: string | undefined | null) {\n  if (!type) return moveTypeColors.default;\n  const key = type.toLowerCase();\n  return moveTypeColors[key] ?? moveTypeColors.default;\n}\n\nexport default function PokemonDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const id = params?.id as string;\n\n  const [data, setData] = useState<ApiResponse | null>(null);\n  const [moves, setMoves] = useState<MovesResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [movesLoading, setMovesLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [bustingCache, setBustingCache] = useState(false);\n\n  useEffect(() => {\n    if (!id) return;\n\n    let cancelled = false;\n\n    async function fetchPokemon() {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const res = await fetch(`/api/pokemon/${id}`);\n        if (!res.ok) {\n          if (res.status === 404) {\n            throw new Error(\"Pok√©mon not found\");\n          }\n          throw new Error(\"Failed to fetch\");\n        }\n\n        const result = (await res.json()) as ApiResponse;\n        if (!cancelled) {\n          setData(result);\n          // Show toast notification for cache hit/miss\n          if (result.source === \"cache\") {\n            toast.success(\"‚ö° Cache Hit!\", {\n              description: `${result.pokemon.name} loaded from Redis cache`,\n              duration: 2000,\n            });\n          } else {\n            toast.info(\"üê¢ Cache Miss\", {\n              description: `${result.pokemon.name} fetched from database and cached`,\n              duration: 2000,\n            });\n          }\n        }\n      } catch (err) {\n        if (!cancelled) {\n          setError(err instanceof Error ? err.message : \"Unknown error\");\n        }\n      } finally {\n        if (!cancelled) {\n          setLoading(false);\n        }\n      }\n    }\n\n    fetchPokemon();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [id]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    let cancelled = false;\n\n    async function fetchMoves() {\n      setMovesLoading(true);\n      try {\n        const res = await fetch(`/api/pokemon/${id}/moves`);\n        if (res.ok) {\n        const result = (await res.json()) as MovesResponse;\n        if (!cancelled) {\n          setMoves(result);\n          // Show toast for moves cache status\n          if (result.source === \"cache\") {\n            toast.success(\"‚ö° Moves Cached\", {\n              description: \"Moves loaded from Redis cache\",\n              duration: 1500,\n            });\n          }\n        }\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch moves:\", err);\n      } finally {\n        if (!cancelled) {\n          setMovesLoading(false);\n        }\n      }\n    }\n\n    fetchMoves();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [id]);\n\n  async function handleBustCache() {\n    setBustingCache(true);\n    try {\n      await fetch(`/api/pokemon/${id}`, { method: \"POST\" });\n      toast.success(\"Cache Cleared\", {\n        description: \"Cache entry removed. Next request will hit database.\",\n        duration: 2000,\n      });\n      // Refetch data\n      const res = await fetch(`/api/pokemon/${id}`);\n      if (res.ok) {\n        const result = (await res.json()) as ApiResponse;\n        setData(result);\n        toast.info(\"Refreshed from Database\", {\n          description: \"Data fetched fresh and cached for next time\",\n          duration: 2000,\n        });\n      }\n    } catch (err) {\n      console.error(\"Failed to bust cache:\", err);\n      toast.error(\"Error\", {\n        description: \"Failed to clear cache\",\n        duration: 2000,\n      });\n    } finally {\n      setBustingCache(false);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-indigo-500/30 border-t-fuchsia-400\"></div>\n      </div>\n    );\n  }\n\n  if (error || !data) {\n    return (\n      <div className=\"space-y-4\">\n        <Link\n          href=\"/\"\n          className=\"inline-flex items-center gap-2 text-sm text-slate-300 hover:text-slate-100\"\n        >\n          <span>‚Üê</span> Back to Arena\n        </Link>\n        <div className=\"rounded-xl border border-slate-500/40 bg-slate-950/60 p-8 text-center\">\n          <p className=\"text-slate-400\">{error || \"Unknown error\"}</p>\n        </div>\n      </div>\n    );\n  }\n\n  const { pokemon, source } = data;\n  const maxStat = Math.max(\n    pokemon.hp,\n    pokemon.attack,\n    pokemon.defense,\n    pokemon.specialAttack,\n    pokemon.specialDefense,\n    pokemon.speed\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <Link\n        href=\"/\"\n        className=\"inline-flex items-center gap-2 text-sm text-slate-300 hover:text-slate-100\"\n      >\n        <span>‚Üê</span> Back to Arena\n      </Link>\n\n      {/* Cache Metrics */}\n      <CacheMetrics />\n\n      <div className=\"rounded-2xl border border-indigo-500/40 bg-slate-950/60 p-6 shadow-[0_0_30px_rgba(56,189,248,0.2)]\">\n        <div className=\"flex flex-col items-center gap-6 md:flex-row md:items-start\">\n          {/* Sprite */}\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 rounded-full bg-slate-900/40 blur-xl\"></div>\n            {/* eslint-disable-next-line @next/next/no-img-element */}\n            <img\n              src={\n                pokemon.spriteUrl\n                  ? pokemon.spriteUrl.startsWith('http') || pokemon.spriteUrl.startsWith('//')\n                    ? pokemon.spriteUrl\n                    : pokemon.spriteUrl.startsWith('/')\n                      ? pokemon.spriteUrl\n                      : `/${pokemon.spriteUrl}`\n                  : \"/placeholder.svg\"\n              }\n              alt={pokemon.name}\n              className=\"relative z-10 h-48 w-48 object-contain drop-shadow-[0_0_30px_rgba(248,250,252,0.9)]\"\n              crossOrigin={pokemon.spriteUrl?.startsWith('http') ? 'anonymous' : undefined}\n            />\n          </div>\n\n          {/* Details */}\n          <div className=\"flex-1 space-y-4\">\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <h1 className=\"text-3xl font-bold text-slate-50\">\n                  {pokemon.name}\n                </h1>\n                <span\n                  className={`rounded-full px-3 py-1 text-xs font-medium ${\n                    source === \"cache\"\n                      ? \"bg-emerald-500/20 text-emerald-300\"\n                      : \"bg-amber-500/20 text-amber-300\"\n                  }`}\n                >\n                  {source === \"cache\" ? \"‚ö° From Cache\" : \"üê¢ From Database\"}\n                </span>\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                <span className=\"rounded-full bg-slate-900/70 px-3 py-1 text-xs uppercase tracking-wide text-slate-100 ring-1 ring-slate-500/50\">\n                  {pokemon.typePrimary}\n                </span>\n                {pokemon.typeSecondary && (\n                  <span className=\"rounded-full bg-slate-900/70 px-3 py-1 text-xs uppercase tracking-wide text-slate-100 ring-1 ring-slate-500/50\">\n                    {pokemon.typeSecondary}\n                  </span>\n                )}\n              </div>\n            </div>\n\n            {/* Stats */}\n            <div className=\"space-y-3\">\n              <h2 className=\"text-sm font-semibold text-slate-300\">\n                Base Stats\n              </h2>\n              <div className=\"space-y-2\">\n                {[\n                  { label: \"HP\", value: pokemon.hp },\n                  { label: \"Attack\", value: pokemon.attack },\n                  { label: \"Defense\", value: pokemon.defense },\n                  { label: \"Sp. Atk\", value: pokemon.specialAttack },\n                  { label: \"Sp. Def\", value: pokemon.specialDefense },\n                  { label: \"Speed\", value: pokemon.speed },\n                ].map((stat) => (\n                  <div key={stat.label} className=\"space-y-1\">\n                    <div className=\"flex items-center justify-between text-xs\">\n                      <span className=\"text-slate-400\">{stat.label}</span>\n                      <span className=\"font-semibold text-slate-200\">\n                        {stat.value}\n                      </span>\n                    </div>\n                    <div className=\"h-2 overflow-hidden rounded-full bg-slate-800/60\">\n                      <div\n                        className=\"h-full rounded-full bg-gradient-to-r from-indigo-500 to-fuchsia-500 transition-all\"\n                        style={{\n                          width: `${(stat.value / maxStat) * 100}%`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Bust Cache Button */}\n            <button\n              onClick={handleBustCache}\n              disabled={bustingCache}\n              className=\"rounded-lg border border-fuchsia-500/40 bg-fuchsia-500/10 px-4 py-2 text-sm font-medium text-fuchsia-300 transition hover:bg-fuchsia-500/20 disabled:opacity-50\"\n            >\n              {bustingCache ? \"Refreshing...\" : \"Refresh from Database\"}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Moves Section */}\n      {moves && (\n        <div className=\"rounded-2xl border border-indigo-500/40 bg-slate-950/60 p-6 shadow-[0_0_30px_rgba(56,189,248,0.2)]\">\n          <div className=\"mb-4 flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold text-slate-50\">Moves</h2>\n            {moves.source && (\n              <span\n                className={`rounded-full px-2 py-1 text-[10px] font-medium ${\n                  moves.source === \"cache\"\n                    ? \"bg-emerald-500/20 text-emerald-300\"\n                    : \"bg-amber-500/20 text-amber-300\"\n                }`}\n              >\n                {moves.source === \"cache\" ? \"‚ö° Cached\" : \"üê¢ DB\"}\n              </span>\n            )}\n          </div>\n          {movesLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"h-6 w-6 animate-spin rounded-full border-2 border-indigo-500/30 border-t-fuchsia-400\"></div>\n            </div>\n          ) : moves.moves.length === 0 ? (\n            <p className=\"text-sm text-slate-400\">No moves available</p>\n          ) : (\n            <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n              {moves.moves.map((move) => {\n                const gradient = getMoveTypeGradient(move.type);\n                return (\n                  <div\n                    key={move.id}\n                    className={`relative overflow-hidden rounded-lg border border-slate-700/50 bg-gradient-to-br ${gradient} p-3 backdrop-blur-sm`}\n                  >\n                    {/* Gradient overlay */}\n                    <div className={`absolute inset-0 bg-gradient-to-br ${gradient} opacity-30`} />\n                    \n                    {/* Content */}\n                    <div className=\"relative z-10\">\n                      <div className=\"mb-2 flex items-start justify-between\">\n                        <div>\n                          <h3 className=\"font-semibold text-slate-100\">\n                            {move.name}\n                          </h3>\n                          {move.level && (\n                            <span className=\"text-[10px] text-slate-400\">\n                              Lv. {move.level}\n                            </span>\n                          )}\n                        </div>\n                        <span className=\"rounded-full bg-slate-900/70 px-2 py-0.5 text-[10px] uppercase text-slate-200 ring-1 ring-slate-600/50\">\n                          {move.type}\n                        </span>\n                      </div>\n                      <div className=\"mb-2 flex gap-2 text-[10px] text-slate-300\">\n                        <span className=\"rounded bg-slate-900/60 px-1.5 py-0.5 backdrop-blur-sm\">\n                          {move.category}\n                        </span>\n                        {move.power !== null && (\n                          <span className=\"rounded bg-slate-900/60 px-1.5 py-0.5 backdrop-blur-sm\">\n                            Power: {move.power}\n                          </span>\n                        )}\n                        {move.accuracy !== null && (\n                          <span className=\"rounded bg-slate-900/60 px-1.5 py-0.5 backdrop-blur-sm\">\n                            Acc: {move.accuracy}%\n                          </span>\n                        )}\n                        <span className=\"rounded bg-slate-900/60 px-1.5 py-0.5 backdrop-blur-sm\">\n                          PP: {move.pp}\n                        </span>\n                      </div>\n                      <p className=\"text-xs text-slate-400\">{move.description}</p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;AAG5B;AACA;AACA;AACA;AACA;AANA;;;;;;;AA4CA,sCAAsC;AACtC,MAAM,iBAAyC;IAC7C,MAAM;IACN,OAAO;IACP,OAAO;IACP,UAAU;IACV,SAAS;IACT,MAAM;IACN,OAAO;IACP,KAAK;IACL,QAAQ;IACR,OAAO;IACP,UAAU;IACV,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,MAAM;IACN,OAAO;IACP,KAAK;IACL,QAAQ;IACR,SAAS;AACX;AAEA,SAAS,oBAAoB,IAA+B;IAC1D,IAAI,CAAC,MAAM,OAAO,eAAe,OAAO;IACxC,MAAM,MAAM,KAAK,WAAW;IAC5B,OAAO,cAAc,CAAC,IAAI,IAAI,eAAe,OAAO;AACtD;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,KAAK,QAAQ;IAEnB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAqB;IACrD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAuB;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,IAAI;QAET,IAAI,YAAY;QAEhB,eAAe;YACb,WAAW;YACX,SAAS;YAET,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,EAAE,IAAI;gBAC5C,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,IAAI,IAAI,MAAM,KAAK,KAAK;wBACtB,MAAM,IAAI,MAAM;oBAClB;oBACA,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,SAAU,MAAM,IAAI,IAAI;gBAC9B,IAAI,CAAC,WAAW;oBACd,QAAQ;oBACR,6CAA6C;oBAC7C,IAAI,OAAO,MAAM,KAAK,SAAS;wBAC7B,iJAAK,CAAC,OAAO,CAAC,gBAAgB;4BAC5B,aAAa,GAAG,OAAO,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC;4BAC7D,UAAU;wBACZ;oBACF,OAAO;wBACL,iJAAK,CAAC,IAAI,CAAC,iBAAiB;4BAC1B,aAAa,GAAG,OAAO,OAAO,CAAC,IAAI,CAAC,iCAAiC,CAAC;4BACtE,UAAU;wBACZ;oBACF;gBACF;YACF,EAAE,OAAO,KAAK;gBACZ,IAAI,CAAC,WAAW;oBACd,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAChD;YACF,SAAU;gBACR,IAAI,CAAC,WAAW;oBACd,WAAW;gBACb;YACF;QACF;QAEA;QAEA,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;KAAG;IAEP,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,IAAI;QAET,IAAI,YAAY;QAEhB,eAAe;YACb,gBAAgB;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,EAAE,GAAG,MAAM,CAAC;gBAClD,IAAI,IAAI,EAAE,EAAE;oBACZ,MAAM,SAAU,MAAM,IAAI,IAAI;oBAC9B,IAAI,CAAC,WAAW;wBACd,SAAS;wBACT,oCAAoC;wBACpC,IAAI,OAAO,MAAM,KAAK,SAAS;4BAC7B,iJAAK,CAAC,OAAO,CAAC,kBAAkB;gCAC9B,aAAa;gCACb,UAAU;4BACZ;wBACF;oBACF;gBACA;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,0BAA0B;YAC1C,SAAU;gBACR,IAAI,CAAC,WAAW;oBACd,gBAAgB;gBAClB;YACF;QACF;QAEA;QAEA,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;KAAG;IAEP,eAAe;QACb,gBAAgB;QAChB,IAAI;YACF,MAAM,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE;gBAAE,QAAQ;YAAO;YACnD,iJAAK,CAAC,OAAO,CAAC,iBAAiB;gBAC7B,aAAa;gBACb,UAAU;YACZ;YACA,eAAe;YACf,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,EAAE,IAAI;YAC5C,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,SAAU,MAAM,IAAI,IAAI;gBAC9B,QAAQ;gBACR,iJAAK,CAAC,IAAI,CAAC,2BAA2B;oBACpC,aAAa;oBACb,UAAU;gBACZ;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;YACvC,iJAAK,CAAC,KAAK,CAAC,SAAS;gBACnB,aAAa;gBACb,UAAU;YACZ;QACF,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,SAAS,CAAC,MAAM;QAClB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAU;;sCAEV,8OAAC;sCAAK;;;;;;wBAAQ;;;;;;;8BAEhB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAkB,SAAS;;;;;;;;;;;;;;;;;IAIhD;IAEA,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG;IAC5B,MAAM,UAAU,KAAK,GAAG,CACtB,QAAQ,EAAE,EACV,QAAQ,MAAM,EACd,QAAQ,OAAO,EACf,QAAQ,aAAa,EACrB,QAAQ,cAAc,EACtB,QAAQ,KAAK;IAGf,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,uKAAI;gBACH,MAAK;gBACL,WAAU;;kCAEV,8OAAC;kCAAK;;;;;;oBAAQ;;;;;;;0BAIhB,8OAAC,+IAAY;;;;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;;;;;8CAEf,8OAAC;oCACC,KACE,QAAQ,SAAS,GACb,QAAQ,SAAS,CAAC,UAAU,CAAC,WAAW,QAAQ,SAAS,CAAC,UAAU,CAAC,QACnE,QAAQ,SAAS,GACjB,QAAQ,SAAS,CAAC,UAAU,CAAC,OAC3B,QAAQ,SAAS,GACjB,CAAC,CAAC,EAAE,QAAQ,SAAS,EAAE,GAC3B;oCAEN,KAAK,QAAQ,IAAI;oCACjB,WAAU;oCACV,aAAa,QAAQ,SAAS,EAAE,WAAW,UAAU,cAAc;;;;;;;;;;;;sCAKvE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DACX,QAAQ,IAAI;;;;;;8DAEf,8OAAC;oDACC,WAAW,CAAC,2CAA2C,EACrD,WAAW,UACP,uCACA,kCACJ;8DAED,WAAW,UAAU,iBAAiB;;;;;;;;;;;;sDAG3C,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DACb,QAAQ,WAAW;;;;;;gDAErB,QAAQ,aAAa,kBACpB,8OAAC;oDAAK,WAAU;8DACb,QAAQ,aAAa;;;;;;;;;;;;;;;;;;8CAO9B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAuC;;;;;;sDAGrD,8OAAC;4CAAI,WAAU;sDACZ;gDACC;oDAAE,OAAO;oDAAM,OAAO,QAAQ,EAAE;gDAAC;gDACjC;oDAAE,OAAO;oDAAU,OAAO,QAAQ,MAAM;gDAAC;gDACzC;oDAAE,OAAO;oDAAW,OAAO,QAAQ,OAAO;gDAAC;gDAC3C;oDAAE,OAAO;oDAAW,OAAO,QAAQ,aAAa;gDAAC;gDACjD;oDAAE,OAAO;oDAAW,OAAO,QAAQ,cAAc;gDAAC;gDAClD;oDAAE,OAAO;oDAAS,OAAO,QAAQ,KAAK;gDAAC;6CACxC,CAAC,GAAG,CAAC,CAAC,qBACL,8OAAC;oDAAqB,WAAU;;sEAC9B,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAAkB,KAAK,KAAK;;;;;;8EAC5C,8OAAC;oEAAK,WAAU;8EACb,KAAK,KAAK;;;;;;;;;;;;sEAGf,8OAAC;4DAAI,WAAU;sEACb,cAAA,8OAAC;gEACC,WAAU;gEACV,OAAO;oEACL,OAAO,GAAG,AAAC,KAAK,KAAK,GAAG,UAAW,IAAI,CAAC,CAAC;gEAC3C;;;;;;;;;;;;mDAZI,KAAK,KAAK;;;;;;;;;;;;;;;;8CAqB1B,8OAAC;oCACC,SAAS;oCACT,UAAU;oCACV,WAAU;8CAET,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;YAOzC,uBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAsC;;;;;;4BACnD,MAAM,MAAM,kBACX,8OAAC;gCACC,WAAW,CAAC,+CAA+C,EACzD,MAAM,MAAM,KAAK,UACb,uCACA,kCACJ;0CAED,MAAM,MAAM,KAAK,UAAU,aAAa;;;;;;;;;;;;oBAI9C,6BACC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;;;;;;;;;+BAEf,MAAM,KAAK,CAAC,MAAM,KAAK,kBACzB,8OAAC;wBAAE,WAAU;kCAAyB;;;;;6CAEtC,8OAAC;wBAAI,WAAU;kCACZ,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;4BAChB,MAAM,WAAW,oBAAoB,KAAK,IAAI;4BAC9C,qBACE,8OAAC;gCAEC,WAAW,CAAC,iFAAiF,EAAE,SAAS,qBAAqB,CAAC;;kDAG9H,8OAAC;wCAAI,WAAW,CAAC,mCAAmC,EAAE,SAAS,WAAW,CAAC;;;;;;kDAG3E,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EACX,KAAK,IAAI;;;;;;4DAEX,KAAK,KAAK,kBACT,8OAAC;gEAAK,WAAU;;oEAA6B;oEACtC,KAAK,KAAK;;;;;;;;;;;;;kEAIrB,8OAAC;wDAAK,WAAU;kEACb,KAAK,IAAI;;;;;;;;;;;;0DAGd,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEACb,KAAK,QAAQ;;;;;;oDAEf,KAAK,KAAK,KAAK,sBACd,8OAAC;wDAAK,WAAU;;4DAAyD;4DAC/D,KAAK,KAAK;;;;;;;oDAGrB,KAAK,QAAQ,KAAK,sBACjB,8OAAC;wDAAK,WAAU;;4DAAyD;4DACjE,KAAK,QAAQ;4DAAC;;;;;;;kEAGxB,8OAAC;wDAAK,WAAU;;4DAAyD;4DAClE,KAAK,EAAE;;;;;;;;;;;;;0DAGhB,8OAAC;gDAAE,WAAU;0DAA0B,KAAK,WAAW;;;;;;;;;;;;;+BAzCpD,KAAK,EAAE;;;;;wBA6ClB;;;;;;;;;;;;;;;;;;AAOd"}}]
}